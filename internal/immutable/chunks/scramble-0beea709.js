import{sleep as f}from"./sleep-a3e2541c.js";import{r as p}from"./_page-c5d7c173.js";const a=(t,e)=>Math.floor(Math.random()*(e-t))+t,w=()=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=t.length,r=a(0,e);return t[r]},g=(t,e)=>{const r=e/3;return t.map(()=>a(r,e-100))},M=async(t,e)=>{const r=typeof e.scramble=="number"?e.scramble:3e3;await new Promise(i=>{t.forEach(async({currentNode:m,text:s})=>{let o=s.split("");const h=g(o,r),c=Date.now();for(p(m,e.parentElement,n=>{n.classList.add("finished-typing")});Date.now()-c<r;){const n=a(0,o.length),u=h[n],L=o[n]===" ",d=()=>Date.now()-c;if((()=>d()>=u)()||L)if(!(o[n]===s[n]))o[n]=s[n];else continue;else o[n]=w();const l=o.join("");m.innerHTML=l;const T=l===s,b=e.scrambleSlowdown?Math.round(d()/100):1;if(await f(b),T){i();break}}})}),e.dispatch("done")};export{M as mode};
